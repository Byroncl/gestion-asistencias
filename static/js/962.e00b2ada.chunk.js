"use strict";(self.webpackChunkgestion_asistencias=self.webpackChunkgestion_asistencias||[]).push([[962],{962:(e,s,i)=>{i.r(s),i.d(s,{default:()=>c});var a=i(43),n=i(483),t=i(101),l=i(579);const c=()=>{const[e,s]=(0,a.useState)([]),[i,c]=(0,a.useState)(""),[r,d]=(0,a.useState)(""),[o,h]=(0,a.useState)(""),[j,x]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("notificacionesList")||"[]");s(e);const i=JSON.parse(localStorage.getItem("session")||"{}");x(i.cedula||null)}),[]);const m=()=>{let e=!0;return u(i)||(alert("Formato de fecha inv\xe1lido. Por favor, utiliza el formato correcto."),e=!1),(r.trim().length<3||r.trim().length>20)&&(alert("El mensaje debe tener entre 3 y 20 caracteres."),e=!1),10!==o.trim().length&&(alert("La c\xe9dula debe tener exactamente 10 caracteres."),e=!1),e},u=e=>/^\d{4}-\d{2}-\d{2}$/.test(e),f=e.filter((e=>e.cedula===j));return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"bienvenida-container",children:[(0,l.jsx)("div",{className:"bienvenida",children:(0,l.jsx)("h1",{children:"Notificaciones"})}),(0,l.jsxs)("div",{className:"icono",children:[(0,l.jsx)(n.g,{icon:t.z$e,onClick:()=>{const e=document.getElementById("menuLista");e&&("block"===e.style.display?e.style.display="none":e.style.display="block")}}),(0,l.jsxs)("ul",{className:"menu-lista",id:"menuLista",children:[f.slice(0,3).map((e=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",children:e.mensaje})},e.id))),(0,l.jsx)("a",{href:"/notificaciones",children:"Ver completo"})]})]}),(0,l.jsxs)("div",{className:"Icono2",id:"icono2",children:[(0,l.jsx)(n.g,{icon:t.ckx,onClick:()=>{const e=document.getElementById("menuLista2");e&&("block"===e.style.display?e.style.display="none":e.style.display="block")}}),(0,l.jsxs)("ul",{className:"menu-listado",id:"menuLista2",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/perfil",children:"Perfil"})}),(0,l.jsx)("a",{href:"/",children:"Cerrar sesion"})]})]})]}),(0,l.jsx)("nav",{children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/",children:"Cerrar sesi\xf3n"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/home",children:"Principal"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/calendario",children:"Calendario"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/registro-asistencias",children:"Registrar asistencia"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"/atrasos",children:"Atrasos"})})]})}),(0,l.jsxs)("div",{className:"form-container",children:[(0,l.jsx)("h2",{children:"Enviar Notificaci\xf3n"}),(0,l.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),m()){const a={id:e.length+1,fecha:i,mensaje:r,estado:"No le\xeddo",cedula:o},n=[...e,a];s(n),localStorage.setItem("notificacionesList",JSON.stringify(n)),c(""),d(""),h("")}else alert("Por favor complete correctamente todos los campos.")},children:[(0,l.jsx)("label",{htmlFor:"fecha",children:"Fecha:"}),(0,l.jsx)("input",{type:"date",id:"fecha",value:i,onChange:e=>c(e.target.value),required:!0}),(0,l.jsx)("label",{htmlFor:"mensaje",children:"Mensaje:"}),(0,l.jsx)("input",{type:"text",id:"mensaje",value:r,onChange:e=>d(e.target.value),required:!0}),(0,l.jsx)("label",{htmlFor:"cedula",children:"C\xe9dula del Destinatario:"}),(0,l.jsx)("input",{type:"text",id:"cedula",value:o,onChange:e=>h(e.target.value),required:!0}),(0,l.jsx)("button",{type:"submit",children:"Enviar Notificaci\xf3n"})]})]}),(0,l.jsxs)("div",{className:"tabla-notificaciones-container",children:[(0,l.jsx)("h2",{children:"Notificaciones"}),(0,l.jsxs)("table",{className:"tabla-notificaciones",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"ID"}),(0,l.jsx)("th",{children:"Fecha"}),(0,l.jsx)("th",{children:"Mensaje"}),(0,l.jsx)("th",{children:"Estado"})]})}),(0,l.jsx)("tbody",{children:f.map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.id}),(0,l.jsx)("td",{children:e.fecha}),(0,l.jsx)("td",{children:e.mensaje}),(0,l.jsx)("td",{className:"estado-".concat(e.estado.toLowerCase()),children:e.estado})]},e.id)))})]})]}),(0,l.jsx)("footer",{children:(0,l.jsxs)("p",{children:["Para m\xe1s informaci\xf3n o una demostraci\xf3n en vivo, no dudes en ",(0,l.jsx)("a",{href:"",children:"contactarnos."})]})})]})}}}]);
//# sourceMappingURL=962.e00b2ada.chunk.js.map